<div class="container">
  <h2>Create New Ticket</h2>
  <form [formGroup]="ticketForm">
    <div class="form-group">
      <div class="form-group mb-3">
        <label class="mb-1" for="title">Ticket title</label>
        <input
          [ngClass]="{
            'invalid-input':
              ticketForm.get('title')?.invalid &&
              ticketForm.get('title')?.touched
          }"
          id="title"
          formControlName="title"
          type="text"
          class="form-control"
        />
        <mat-error
          *ngIf="
            ticketForm.get('title')?.hasError('required') &&
            ticketForm.get('title')?.touched
          "
        >
          Please enter a title
        </mat-error>
      </div>
      <div class="form-group mb-3">
        <label class="mb-1" for="description">Ticket description</label>
        <textarea
          [ngClass]="{
            'invalid-input':
              ticketForm.get('description')?.invalid &&
              ticketForm.get('description')?.touched
          }"
          id="description"
          formControlName="description"
          type="text"
          class="form-control"
        ></textarea>
        <mat-error
          *ngIf="
            ticketForm.get('description')?.hasError('required') &&
            ticketForm.get('description')?.touched
          "
        >
          Please enter a ticket description
        </mat-error>
      </div>

      <div class="form-group mb-3">
        <div class="select-container mb-3">
          <label class="mb-1" for="dev-selection">Assign to</label>
          <select
            id="dev-selection"
            multiple
            formControlName="member"
            class="form-select"
            aria-label="Default select example"
          >
            <option *ngFor="let user of users" [value]="user">
              {{ user.firstName }} {{ user.lastName }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <button
          type="submit"
          (click)="onSubmit($event)"
          id="regBtn"
          class="btn btn-primary mb-3"
          [disabled]="ticketForm.invalid"
        >
          Create Ticket
        </button>
      </div>
    </div>
  </form>
</div>
